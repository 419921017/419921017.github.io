<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>js递归 | Hexo</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />

  <meta name="generator" content="Hexo">

  
  
  

  
</head>


<body class="post-template">

  <header class="site-head"  style="background-image: url(//blog.ghost.org/content/images/2013/Nov/cover.png)" >
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="//blog.ghost.org/content/images/2013/Nov/bloglogo_1-1.png" alt="Blog Logo"/></a> 
            <h1 class="blog-title">Hexo</h1>
            <h2 class="blog-description"></h2>
        </div>
    </div>
</header>
  

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2018-04-13T06:31:33.000Z" itemprop="datePublished">
          2018-04-13
      </time>
    
</span>
    <h1 class="post-title">js递归</h1>
    <section class="post-content">
      <h1 id="递归基础"><a href="#递归基础" class="headerlink" title="递归基础"></a>递归基础</h1><h2 id="递归的概念"><a href="#递归的概念" class="headerlink" title="递归的概念"></a>递归的概念</h2><ul>
<li>在程序中函数直接或间接调用自己</li>
</ul>
<ol>
<li>直接调用自己</li>
<li>简介调用自己</li>
</ol>
<ul>
<li>跳出结构,有了跳出才有结果</li>
</ul>
<h2 id="递归的思想"><a href="#递归的思想" class="headerlink" title="递归的思想"></a>递归的思想</h2><ul>
<li>递归的调用,最终还是要转换为自己这个函数</li>
</ul>
<ol>
<li>如果有个函数foo,如果他是递归函数,到最后问题还是转换为函数foo的形式</li>
<li>递归的思想就是将一个未知问题转换为一个已解决的问题来实现</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function foo()&#123;</span><br><span class="line">...foo(...)...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="递归的步骤-技巧"><a href="#递归的步骤-技巧" class="headerlink" title="递归的步骤(技巧)"></a>递归的步骤(技巧)</h2><ol>
<li>假设递归函数已经写好</li>
<li>寻找递推关系</li>
<li>将递推关系的结构转换为递归体</li>
<li>将临界条件加入到递归体中</li>
</ol>
<h1 id="简单递归练习"><a href="#简单递归练习" class="headerlink" title="简单递归练习"></a>简单递归练习</h1><h2 id="求1-100的和"><a href="#求1-100的和" class="headerlink" title="求1-100的和"></a>求1-100的和</h2><ul>
<li>分析:</li>
</ul>
<ol>
<li>假设递归函数已经写好为sum,既sum(100),就是求1-100的和</li>
<li><p>寻找递推关系: 就是 n 与 n-1 ,或 n-2 之间的关系<br><strong>sum(n) == sum(n-1) + n</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var res = sum(100);</span><br><span class="line">var res = sum(99) + 100;</span><br></pre></td></tr></table></figure>
</li>
<li><p>将递归结构转换成递归体</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function sum(n)&#123;</span><br><span class="line">return sum(n-1) + n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>将临界条件加入到递归中</p>
</li>
</ol>
<ul>
<li>求100 转换为 求99</li>
<li>求99 转换为 求98</li>
<li>求98 转换为 求97</li>
<li>…</li>
<li>求2 转换为 求1</li>
<li>求1 转换为 求1</li>
<li>即 sum(1) = 1</li>
</ul>
<ol start="5">
<li>递归函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function sum(n)&#123;</span><br><span class="line">if(n==1) return 1;</span><br><span class="line">return sum(n-1) + n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="求-1-3-5-7-9-…第n项的结果和前n项和-序号从0开始"><a href="#求-1-3-5-7-9-…第n项的结果和前n项和-序号从0开始" class="headerlink" title="求 1,3,5,7,9,…第n项的结果和前n项和,序号从0开始"></a>求 1,3,5,7,9,…第n项的结果和前n项和,序号从0开始</h2><ul>
<li>分析</li>
</ul>
<ol>
<li>假设递归函数已经完成foo(n),得到奇数</li>
<li>递归关系:</li>
</ol>
<ul>
<li>foo(n) = foo(n-1)+2</li>
</ul>
<ol start="3">
<li><p>递归体</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function foo(n)&#123;</span><br><span class="line">return foo(n) = sum(n-1)+2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>跳出条件</p>
</li>
</ol>
<ul>
<li>foo(n) = foo(n-1) + 2</li>
<li>foo(1) = foo(0) + 2</li>
<li>foo(0) = 1;</li>
</ul>
<ol start="5">
<li>递归函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function foo(n)&#123;</span><br><span class="line">if(n == 0) return 1;</span><br><span class="line">return foo(n-1) + 2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>前 n 项的和</li>
<li>分析</li>
</ul>
<ol>
<li>假设完成,sum(n)就是前n项的和</li>
<li>递推关系</li>
</ol>
<ul>
<li>foo(n) = sum(n) + 第n-1项之前的和</li>
</ul>
<ol start="3">
<li><p>递归体</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function sum(n)&#123;</span><br><span class="line">return foo(n) + sum(n-1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>临界条件</p>
</li>
</ol>
<ul>
<li>n == 1 ,结果为1</li>
</ul>
<ol start="5">
<li>递归函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function foo(n)&#123;</span><br><span class="line">if(n == 0) return 1;</span><br><span class="line">return foo(n-1) + 2;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function sum(n)&#123;</span><br><span class="line">if(n == 0) return 1;</span><br><span class="line">return foo(n) + sum(n-1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="求-2-4-6-8-10…-第n项与前n项之和"><a href="#求-2-4-6-8-10…-第n项与前n项之和" class="headerlink" title="求 2,4,6,8,10… 第n项与前n项之和"></a>求 2,4,6,8,10… 第n项与前n项之和</h2><ul>
<li>分析</li>
</ul>
<ol>
<li>假设已知函数 fn(n)为第n项,sum(n)为前n项之和</li>
<li>递归关系</li>
</ol>
<ul>
<li>fn(n) = fn(n-1) + 2</li>
<li>sum(n) = fn(n) + sum(n-1)</li>
</ul>
<ol start="3">
<li>递归体</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function fn(n)&#123;</span><br><span class="line">return fn(n) = (n-1) + 2</span><br><span class="line">&#125;</span><br><span class="line">function sum(n)&#123;</span><br><span class="line">return sum(n) = fn(n) + sum(n-1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>临界条件</li>
</ol>
<ul>
<li>fn(0) = 2</li>
<li>sum(0) = 2;</li>
</ul>
<ol start="5">
<li>递归函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function fn(n)&#123;</span><br><span class="line">if(n == 0) return 2;</span><br><span class="line">return fn(n-1) + 2;</span><br><span class="line">&#125;</span><br><span class="line">function sum(n)&#123;</span><br><span class="line">if(n==0) return 2;</span><br><span class="line">return fn(n) + sum(n-1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="数列-1-1-2-4-7-11-16…求第-n-项-求前n项和"><a href="#数列-1-1-2-4-7-11-16…求第-n-项-求前n项和" class="headerlink" title="数列 1,1,2,4,7,11,16…求第 n 项,求前n项和"></a>数列 1,1,2,4,7,11,16…求第 n 项,求前n项和</h2><ul>
<li>分析</li>
</ul>
<ol>
<li>假设已知函数 foo(n) 为第n项</li>
<li>递归关系<br><strong>从第 0 项开始计算</strong></li>
</ol>
<ul>
<li>第 0 项, 1 =&gt; foo(0) + 0 = foo(1)</li>
<li>第 1 项, 2 =&gt; foo(1) + 1 = foo(2)</li>
<li>第 2 项, 3 =&gt; foo(2) + 2 = foo(3)</li>
<li>…</li>
<li>第 n-1 项, n =&gt; foo(n-1) + n-1 = foo(n)</li>
<li>foo(n) = foo(n-1) + n-1;</li>
</ul>
<p><strong>从第 1 项开始计算</strong></p>
<ul>
<li>第 1 项, 2 =&gt;  fn( 1 ) + 0 = fn( 2 )</li>
<li>第 2 项, 3  =&gt;  fn( 2 ) + 1 = fn( 3 )</li>
<li>第 3 项, 4  =&gt;  fn( 3 ) + 2 = fn( 4 )</li>
<li>…</li>
<li>foo(n) = fn(n-1) + n - 2</li>
<li>如果从 0 开始</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0  1  2  3  4  5   6</span><br><span class="line">1, 1, 2, 4, 7, 11, 16,</span><br></pre></td></tr></table></figure>
<ul>
<li>如果从 1 开始<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1  2  3  4  5  6   7</span><br><span class="line">1, 1, 2, 4, 7, 11, 16</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="3">
<li>递归体</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function foo(n)&#123;</span><br><span class="line">return foo(n-1)+n-1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>临界条件</li>
</ol>
<ul>
<li>foo(0) == 1;</li>
<li>foo(1) == 1;</li>
</ul>
<ol start="5">
<li>递归函数</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function foo(n)&#123;</span><br><span class="line">if(n == 0) return 1;</span><br><span class="line">return foo(n-1) + n -1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>分析</li>
</ul>
<ol>
<li><p>假设已知函数 sum(n)为前n项和</p>
</li>
<li><p>递归关系</p>
</li>
</ol>
<ul>
<li>sum(n) = foo(n) + sum(n-1);</li>
</ul>
<ol start="3">
<li><p>递归体</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function sum(n)&#123;</span><br><span class="line">return foo(n) + sum(n-1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>临界条件</p>
</li>
</ol>
<p>*　sum(0) = 1;</p>
<ol start="5">
<li>递归函数</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function sum(n)&#123;</span><br><span class="line">if(n == 0) return 1;</span><br><span class="line">return foo(n) + sum(n-1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Fibonacci数列-斐波那契数列"><a href="#Fibonacci数列-斐波那契数列" class="headerlink" title="Fibonacci数列(斐波那契数列)"></a>Fibonacci数列(斐波那契数列)</h2><p>1,1,2,3,5,8,13,21,34,55,89…求第 n 项</p>
<ul>
<li>分析</li>
</ul>
<ol>
<li>假设已知 fib(n) 为第 n 项</li>
<li>递归关系</li>
</ol>
<ul>
<li>fib(n) = fib(n-1) + fib(n-2)</li>
</ul>
<ol start="3">
<li><p>递归体</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function fib(n)&#123;</span><br><span class="line">return fib(n-1)+fib(n-2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>临界条件</p>
</li>
</ol>
<ul>
<li>fib(0) == 1</li>
<li>fib(1) == 1</li>
</ul>
<ol start="5">
<li>递归函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fib(n)&#123;</span><br><span class="line">if(n == 0 || n ==1) return 1;</span><br><span class="line">return fib(n-1) + fib(n-2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="高级递归练习"><a href="#高级递归练习" class="headerlink" title="高级递归练习"></a>高级递归练习</h1><h2 id="阶乘"><a href="#阶乘" class="headerlink" title="阶乘"></a>阶乘</h2><p>概念:</p>
<ul>
<li>阶乘是一个运算, 一个数字的阶乘表示的是从 1 开始 累乘到这个数字.</li>
<li>例如 3! 表示 <code>1 * 2 * 3</code>. 5! 就是  <code>1 * 2 * 3 * 4 * 5</code>. 规定 0 没有阶乘,</li>
<li>阶乘 从 1 开始.</li>
<li>分析:</li>
</ul>
<ol>
<li>假设已知 foo(n) 为 1-n 的积</li>
<li>递归关系</li>
</ol>
<ul>
<li>foo(n) = foo(n-1) * n</li>
</ul>
<ol start="3">
<li><p>递归体</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function foo(n)&#123;</span><br><span class="line">return foo(n-1) * n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>临界条件</p>
</li>
</ol>
<ul>
<li>foo(1) == 1</li>
</ul>
<ol start="5">
<li>递归函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function foo(n)&#123;</span><br><span class="line">if( n == 1) return 1;</span><br><span class="line">return foo(n - 1) * n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="求幂"><a href="#求幂" class="headerlink" title="求幂"></a>求幂</h2><ul>
<li>概念:<br>求幂就是求 某一个数 几次方<br>2*2 2 的 平方, 2 的 2 次方<br>求 n 的 m 次方<br>最终要得到一个函数 power( n, m )<br>n 的 m 次方就是 m 个 n 相乘 即 n 乘以 (m-1) 个 n 相乘</li>
<li>分析</li>
</ul>
<ol>
<li>假设已知函数 power(n,m) 为 n 的 m 次幂</li>
<li>递归关系</li>
</ol>
<ul>
<li>power(n,m-1) * n</li>
</ul>
<ol start="3">
<li><p>递归体</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function power(n,m)&#123;</span><br><span class="line">return power(n,m-1) * n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>临界条件</p>
</li>
</ol>
<ul>
<li>m == 1 ,return n</li>
<li>m == 0 ,reutnr 1</li>
</ul>
<ol start="5">
<li>递归函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function power(n,m)&#123;</span><br><span class="line">if(m == 1) return n;</span><br><span class="line">return power(n,m-1) * n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="深拷贝-使用递归方式"><a href="#深拷贝-使用递归方式" class="headerlink" title="深拷贝,使用递归方式"></a>深拷贝,使用递归方式</h1><p>概念:</p>
<ol>
<li>如果拷贝的时候, 将数据的所有引用结构都拷贝一份, 那么数据在内存中独立就是深拷贝(内存隔离,完全独立)</li>
<li>如果拷贝的时候, 只针对当前对象的属性进行拷贝, 而属性是引用类型这个不考虑, 那么就是浅拷贝</li>
<li>拷贝: 复制一份. 指将对象数据复制.</li>
<li>在讨论深拷与浅拷的时候一定要保证对象的属性也是引用类型.<br>实现方法:</li>
<li>如果要实现深拷贝那么就需要考虑将对象的属性, 与属性的属性,都拷贝过来</li>
<li>分析(2个参数,简单实现)</li>
<li>假设已经实现 clone ( o1, o2),将对象 o2 的成员拷贝一份交给 o1</li>
<li>递推关系</li>
</ol>
<ul>
<li><p>混合方法,将 o2 的成员拷贝到 o1 中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function clone( o1, o2)&#123;</span><br><span class="line">for(var key in o2)&#123;</span><br><span class="line">o1[key] = o2[key];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>假设方法已经实现,如果 o2[key] 是对象</p>
</li>
<li>继续使用这个方法</li>
<li>需要考虑 o2[key] 是引用类型,再一次使用clone函数</li>
<li>如果 o2[key] 不是引用类型,那么直接赋值</li>
</ul>
<ol start="3">
<li>临界条件</li>
</ol>
<ul>
<li>因为是 for in 循环,没有成员遍历时,自动结束</li>
</ul>
<ol start="4">
<li>递归函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function clone(o1,o2)&#123;</span><br><span class="line">for(var key in o2)&#123;</span><br><span class="line">if(typeof o2[key] == &apos;object&apos;)&#123;</span><br><span class="line">o1[key] = &#123;&#125;;</span><br><span class="line">clone(o1[key],o2[key])</span><br><span class="line">&#125;else&#123;</span><br><span class="line">o1[key] = o2[key];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>复杂实现(一个参数)<br>原理: clone(o) = new Object; 返回一个对象<br>递归函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function clone(o)&#123;</span><br><span class="line">var temp = &#123;&#125;;</span><br><span class="line">for(var key in o)&#123;</span><br><span class="line">if(typeof o[key] == &apos;object&apos;)&#123;</span><br><span class="line">temp[key] = clone(o[key]);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">temp[key] = o[key];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="使用递归实现-getElementsByClassName"><a href="#使用递归实现-getElementsByClassName" class="headerlink" title="使用递归实现 getElementsByClassName"></a>使用递归实现 getElementsByClassName</h1><p>html结构:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">&lt;div&gt;1</span><br><span class="line">&lt;div class=&quot;c&quot;&gt;2&lt;/div&gt;</span><br><span class="line">&lt;div&gt;3&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;c&quot;&gt;4&lt;/div&gt;</span><br><span class="line">&lt;div&gt;5</span><br><span class="line">&lt;div&gt;6&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;c&quot;&gt;7&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div&gt;8&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>分析</p>
<ol>
<li>实现一个方法byClass()需要的参数是:<br>node: 在某个节点上寻找元素<br>className: 需要寻找的className<br>arr: 找到的元素存储到这个数组中</li>
<li>遍历 node 的子节点,</li>
<li>查看这个子节点是否还有子节点,如果没有直接存储到数组中,如果有就继续递归</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var arr = [];</span><br><span class="line">function byClass(node, className, arr)&#123;</span><br><span class="line">//得到传入节点的所有子节点</span><br><span class="line">var lists = node.childNodes;</span><br><span class="line">for(var i = 0;i&lt; lists.length;i++)&#123;</span><br><span class="line">//判断是否有相同className元素</span><br><span class="line">if(arr[i],className == className)&#123;</span><br><span class="line">arr.push(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">//判断子节点是否还有子节点</span><br><span class="line">if(arr[i].childNodes.length &gt; 0)&#123;</span><br><span class="line">byClass(arr[i],className,arr);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>John Doe</h4>
    <p>A designer, developer and entrepreneur. Spends his time travelling the world with a bag of kites. Likes journalism and publishing platforms.</p>
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-twitter" href="http://twitter.com/share?url=http://yoursite.com/2018/04/13/js递归/"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/04/13/js递归/"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=http://yoursite.com/2018/04/13/js递归/"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>
    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <span class="page-number">•</span>
    
    <a class="older-posts" href="/2018/04/13/hello-world/">
        Hello World →
    </a>
    
</nav>
  <div id="comment" class="comments-area">
    <h1 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h1>

    
</div>
</main>


  
<footer class="site-footer">
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Hexo</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script>






</body>
</html>
